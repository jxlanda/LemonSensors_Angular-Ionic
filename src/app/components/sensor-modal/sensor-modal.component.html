<h2 mat-dialog-title *ngIf="data.isEdit">Editar sensor</h2>
<h2 mat-dialog-title *ngIf="!data.isEdit">Agregar sensor</h2>
<form [formGroup]="sensorForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content class="mat-typography" style="padding: 0px 0px !important;">
    <div style="margin-left: 24px; margin-right: 24px;">
      <h5>Datos generales</h5>
      <ion-row>
        <ion-col size-sm="12" size-lg="6" size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Nombre</mat-label>
            <input type="text" matInput formControlName="name">
            <mat-error *ngIf="sensorForm.get('name').invalid">{{getNameErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
        <ion-col size-sm="12" size-lg="6"  size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Lugar</mat-label>
            <input type="text" matInput formControlName="storageplace">
            <mat-error *ngIf="sensorForm.get('storageplace').invalid">{{getStoragePlaceErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="12" size-lg="12"  size-md="12">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Descripción</mat-label>
            <input type="text" matInput formControlName="description">
            <mat-error *ngIf="sensorForm.get('description').invalid">{{getDescriptionErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="12" size-lg="6" size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Marca</mat-label>
            <input type="text" matInput formControlName="brand">
            <mat-error *ngIf="sensorForm.get('brand').invalid">{{getBrandErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
        <ion-col size-sm="12" size-lg="6"  size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Modelo</mat-label>
            <input type="text" matInput formControlName="model">
            <mat-error *ngIf="sensorForm.get('model').invalid">{{getModelErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="12" size-lg="6" size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Categoría de medición</mat-label>
            <!-- <mat-select [(value)]="selectedCategory" formControlName="category">
              <mat-option value="{{item}}" *ngFor="let item of categories; let i = index">{{item}}</mat-option>
            </mat-select> -->
            <input type="text" matInput formControlName="category">
            <mat-error *ngIf="sensorForm.get('category').invalid">{{getCategoryErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
        <ion-col size-sm="12" size-lg="6"  size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Simbolo de medición</mat-label>
            <input type="text" matInput formControlName="measurement">
            <mat-error *ngIf="sensorForm.get('measurement').invalid">{{getMeasurementErrorMessage()}}</mat-error>
          </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="12" size-lg="6"  size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Voltaje mínimo</mat-label>
            <input type="number" matInput formControlName="minvoltage">
            <mat-error *ngIf="sensorForm.get('minvoltage').invalid">{{getMinVoltageErrorMessage()}}</mat-error>
            <span matSuffix>volts</span>
          </mat-form-field>
        </ion-col>
        <ion-col size-sm="12" size-lg="6" size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Voltaje máximo</mat-label>
            <input type="number" matInput formControlName="maxvoltage">
            <mat-error *ngIf="sensorForm.get('maxvoltage').invalid">{{getMaxVoltageErrorMessage()}}</mat-error>
            <span matSuffix>volts</span>
          </mat-form-field>
        </ion-col>
      </ion-row>
    </div>
    
    <div class="modal-settings">
      <h5>Configuración de sensado</h5>
      <ion-row>
        <ion-col size-sm="12" size-lg="6"  size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Valor mínimo</mat-label>
            <input type="number" matInput formControlName="minvalue">
            <mat-error *ngIf="sensorForm.get('minvalue').invalid">{{getMinValueErrorMessage()}}</mat-error>
            <span matSuffix>{{sensorForm.get('measurement').value}}</span>
          </mat-form-field>
        </ion-col>
        <ion-col size-sm="12" size-lg="6" size-md="6">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Valor máximo</mat-label>
            <input type="number" matInput formControlName="maxvalue">
            <mat-error *ngIf="sensorForm.get('maxvalue').invalid">{{getMaxValueErrorMessage()}}</mat-error>
            <span matSuffix>{{sensorForm.get('measurement').value}}</span>
          </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="12" size-lg="12"  size-md="12">
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Sensado</mat-label>
            <input type="number" matInput formControlName="sensinginseconds">
            <mat-error *ngIf="sensorForm.get('sensinginseconds').invalid">{{getSensinginSecondsErrorMessage()}}</mat-error>
            <p matSuffix>segundos</p>
          </mat-form-field>
        </ion-col>
      </ion-row>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button  mat-stroked-button color="warn" mat-dialog-close>Cancelar</button>
    <button type="submit" mat-flat-button color="primary" *ngIf="!data.isEdit">Agregar</button>
    <button type="submit" mat-flat-button color="primary" *ngIf="data.isEdit">Actualizar</button>
  </mat-dialog-actions>
</form>